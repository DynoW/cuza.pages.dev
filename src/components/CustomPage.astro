---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import MainContainer from "../layouts/MainContainer.astro";
import LeftContainer from "../layouts/LeftContainer.astro";
import CenterContainer from "../components/CenterContainer.astro";
import RightContainer from "../layouts/RightContainer.astro";
import Content from "../components/Content.jsx";
import Shortcuts from "../components/Shortcuts.astro";
import ToggleExpansion from "../components/ToggleExpansion.astro";

// Props for the component
interface Props {
  subject: string;
  page: string;
}

const { subject, page } = Astro.props;

// Page title construction
const pageTitle = `${subject}${page ? `-${page}` : ''} | cuza.pages.dev`;

// Special case for the admitere section
const isAdmitere = subject === 'admitere';
---

<Layout title={pageTitle}>
  <Navbar>
    <Navbar />
  </Navbar>
  <MainContainer>
    <LeftContainer>
      <span class="text-lg font-bold text-white">Altele</span>
      {isAdmitere ? 
        <Content subject={subject} page={`altele-${page || subject}`} client:load /> :
        <Content subject={subject} page="altele" client:load/>
      }
      {!isAdmitere && subject !== 'info' && 
        <>
          <br />
          <Shortcuts subject={subject} page={page} />
        </>
      }
      <ToggleExpansion />
    </LeftContainer>
    <CenterContainer />
    <RightContainer>      
      {isAdmitere && page ? 
        <Content subject={subject} page={page} client:load expansionMode="years" /> :
        <Content subject={subject} page={page || 'bac'} client:load expansionMode="years" />
      }
    </RightContainer>
  </MainContainer>
  <Footer />
</Layout>