---
import List from "../components/List.astro";
import Shortcuts from "../components/Shortcuts.astro";
import ToggleExpansion from "../components/ToggleExpansion.astro";
import type { FileStructure } from "../types";

interface Props {
  subject: string;
  page: string;
  /** Pre-fetched extra data – skips a separate API call when provided. */
  extraData?: FileStructure;
  /** Pre-fetched years for shortcuts – skips a separate API call when provided. */
  years?: number[];
}

const { 
  subject, 
  page,
  extraData,
  years,
} = Astro.props;

const isAdmitere = subject === "admitere";
---

<p class="text-lg font-bold text-white">Extra</p>
{
    (subject === "admitere" && page === "fizica") ||
    subject === "fizica" ? (
        <a
        class="extra-link"
        href="https://drive.google.com/drive/folders/1RUHqNmCLyEN-FV3IXjw_aIpZEaE-qJWq?usp=sharing"
        target="_blank"
        >
        Culegeri fizică
        </a>
    ) : null
}
{
    isAdmitere ? (
        <List subject="admitere" page={`${page}/extra`} data={extraData} />
    ) : (
        <List subject={subject} page="extra" data={extraData} />
    )
}

<Shortcuts subject={subject} page={page} years={years} />

<ToggleExpansion />
