---
// Get the available years from the file structure
const data = await import.meta.glob("/src/files/**/*.pdf");

// Extract years from the file paths
const extractYears = () => {
  const years: Set<number> = new Set();
  
  for (const file in data) {
    // Find years in the path (4 digit numbers that might be years)
    const yearMatches = file.match(/\/20\d{2}\//g);
    if (yearMatches) {
      yearMatches.forEach(match => {
        // Extract just the year (4 digits) and convert to number
        const year = parseInt(match.replace(/\//g, ''), 10);
        years.add(year);
      });
    }
  }
  
  // Now TypeScript knows these are numbers
  return Array.from(years).sort((a, b) => b - a);
};

const availableYears = extractYears();
---

<span class="text-lg font-bold text-white">Shortcuts</span>
<div class="flex flex-wrap">
  {availableYears.map((year, index) => (
    <>
      <a class="shortcut-link" href={`#${year}`}>
        {year}
      </a>
      {index < availableYears.length - 1 && 
        <span class="shortcut-pipe"> |</span>
      }
    </>
  ))}
</div>

<style>
  /* Add any specific styles for the shortcuts here */
  .shortcut-link {
    color: #64748b; /* slate-500 */
    transition: color 0.2s ease;
  }
  
  .shortcut-link:hover {
    color: #cbd5e1; /* slate-300 */
    cursor: pointer;
  }
  
  .shortcut-pipe {
    color: #64748b; /* slate-500 */
    margin: 0 0.25rem;
  }
</style>