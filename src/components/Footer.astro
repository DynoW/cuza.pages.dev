---
var users: any[] = [];

if (import.meta.env.PROD === true) {
    const response = await fetch(
        "https://api.github.com/repos/DynoW/cuza.pages.dev/contributors",
        {
            method: "GET",
            headers: {
                Authorization: import.meta.env.TOKEN_GITHUB,
            },
        },
    );

    if (response.ok) {
        users = await response.json();
    } else {
        console.error("Failed to fetch contributors.");
    }
}

const contributorAlias: Record<string, string | null> = {Naffets0: null};
const contributors: string[] = [];

for (const user of users) {
    const username = user.login;
    const entries = Object.entries(contributorAlias);
    var cont = 0;
    entries.forEach(([key, value]) => {
        if (key == username) {
            if (value != null) {
                contributors.push(value);
            }
            cont = 1;
        }
    });
    if (cont == 0) {
        contributors.push(username);
    }
}
---

<footer class="mt-3 bg-gray-300/75 text-slate-500">
    <div class="container py-4 lg:py-3 mx-auto">
        <div class="text-muted flex justify-between items-center pt-3">
            <div class="row">
                <div class="col">
                    <p class="mb-0">Copyright Â© 2023 DynoW</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="row">
                        <div class="text-slate-600 col">
                            <a
                                class="hover:text-slate-800"
                                href="https://github.com/DynoW"
                                target="_blank">Danutz</a
                            >
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <p>-Developer</p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="row">
                        <div class="text-slate-600 col">
                            <a
                                class="hover:text-slate-800"
                                href="https://e-z.bio/zeniru"
                                target="_blank">Costi</a
                            >
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <p>-Designer</p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="row">
                        <div class="text-slate-600 col">
                            <a
                                class="hover:text-slate-800"
                                href="https://www.instagram.com/extrem5pro/"
                                target="_blank">Tudor</a
                            >
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <p>-Documents Manager</p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="row">
                        <div class="text-slate-600 col">
                            <a
                                class="hover:text-slate-800"
                                href="
                                https://www.instagram.com/ro_alex69"
                                target="_blank">Belu</a
                            >
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <p>-Banner Manager</p>
                        </div>
                    </div>
                </div>
                <div class="col mt-5 md:mt-0">
                    <div class="row">
                        <p>Contribuitors:</p>
                    </div>
                    <div class="row">
                        <div class="text-slate-600 col">
                            {
                                contributors.map((contributor) =>
                                    contributor != contributors[contributors.length - 1] ? (
                                        <a
                                            class="hover:text-slate-800"
                                            href="#"
                                            target="_blank">{contributor},&nbsp;</a>
                                    ) : (
                                        <a
                                            class="hover:text-slate-800"
                                            href="#"
                                            target="_blank">&nbsp;{contributor}</a>
                                    ),
                                )
                            }
                        </div>
                    </div>
                </div>
            </div>
            <div class="row sm:rotate-0 rotate-90">
                <div class="col">
                    <p class="">cuza.pages.dev @ gmail.com</p>
                </div>
            </div>
        </div>
    </div>
</footer>
